<script setup>
import { ref } from 'vue';
import BanDo from './components/BanDo.vue';

// 1. Gi·∫£ l·∫≠p d·ªØ li·ªáu danh s√°ch v√πng tr·ªìng (Sau n√†y s·∫Ω l·∫•y t·ª´ API Python)
const danhSachVung = ref([
  { id: 1, maSo: 'VT-001', ten: 'Xo√†i C√°t Chu', dienTich: 5000 },
  { id: 2, maSo: 'VT-002', ten: 'Thanh Long Ru·ªôt ƒê·ªè', dienTich: 3200 },
  { id: 3, maSo: 'VT-003', ten: 'S·∫ßu Ri√™ng Ri6', dienTich: 8500 },
]);

// H√†m x·ª≠ l√Ω khi click v√†o danh s√°ch
const chonVung = (vung) => {
  alert(`B·∫°n v·ª´a ch·ªçn v√πng: ${vung.ten}\n(Sau n√†y click v√†o ƒë√¢y b·∫£n ƒë·ªì s·∫Ω zoom t·ªõi ƒë√≥)`);
};
</script>

<template>
  <div class="webgis-layout">
    <aside class="sidebar">
      <div class="header-box">
        <h2>üå± Qu·∫£n l√Ω V√πng Tr·ªìng</h2>
      </div>

      <div class="list-container">
        <h3>Danh s√°ch ({{ danhSachVung.length }})</h3>

        <ul>
          <li v-for="vung in danhSachVung" :key="vung.id" @click="chonVung(vung)" class="list-item">
            <strong>{{ vung.maSo }}</strong> - {{ vung.ten }}
          </li>
        </ul>
      </div>
    </aside>

    <main class="map-wrapper">
      <BanDo />
    </main>
  </div>
</template>

<style>
/* Reset m·∫∑c ƒë·ªãnh c·ªßa tr√¨nh duy·ªát */
body {
  margin: 0;
  padding: 0;
}

/* B·ªë c·ª•c chia 2 c·ªôt: Sidebar c·ªë ƒë·ªãnh, Map co gi√£n */
.webgis-layout {
  display: flex;
  /* D√πng Flexbox ƒë·ªÉ chia c·ªôt */
  height: 100vh;
  /* Chi·ªÅu cao full m√†n h√¨nh */
  width: 100vw;
}

/* Sidebar b√™n tr√°i */
.sidebar {
  width: 300px;
  /* R·ªông c·ªë ƒë·ªãnh 300px */
  background-color: #f8f9fa;
  border-right: 1px solid #ddd;
  display: flex;
  flex-direction: column;
}

.header-box {
  padding: 20px;
  background-color: #42b883;
  color: white;
}

.list-container {
  padding: 10px;
  overflow-y: auto;
  /* Cho ph√©p cu·ªôn n·∫øu danh s√°ch d√†i */
}

/* Style cho t·ª´ng d√≤ng trong danh s√°ch */
.list-item {
  background: white;
  padding: 15px;
  margin-bottom: 10px;
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  list-style: none;
  /* B·ªè d·∫•u ch·∫•m tr√≤n ƒë·∫ßu d√≤ng */
  transition: 0.2s;
}

.list-item:hover {
  background-color: #e2e6ea;
  transform: translateX(5px);
  /* Hi·ªáu ·ª©ng ƒë·∫©y nh·∫π sang ph·∫£i */
}

ul {
  padding: 0;
}

/* Ph·∫ßn bao quanh b·∫£n ƒë·ªì */
.map-wrapper {
  flex-grow: 1;
  /* Chi·∫øm h·∫øt ph·∫ßn di·ªán t√≠ch c√≤n l·∫°i */
  position: relative;
}
</style>