/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                      KIáº¾N TRÃšC Dá»° ÃN WEBGIS                              â•‘
 * â•‘                   Vue 3 + Tailwind CSS + Leaflet.js                       â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

// ============================================================================
// ğŸ“ VIEWS (CÃ¡c trang chÃ­nh)
// ============================================================================

QuanLyView.vue
â”œâ”€ Purpose: Trang quáº£n lÃ½ vÃ¹ng trá»“ng (management dashboard)
â”œâ”€ Components: StatsBarComponent, MapComponent, DataTableComponent
â”œâ”€ Composable: useMapLogic, statusHelpers
â””â”€ Features: Map tÆ°Æ¡ng tÃ¡c, stats, danh sÃ¡ch vÃ¹ng

HomeView.vue
â”œâ”€ Purpose: Trang tra cá»©u nÃ´ng sáº£n (lookup page)
â”œâ”€ Components: HomeListItem, HomeDetailView, QRModal
â”œâ”€ Composable: useHome
â””â”€ Features: TÃ¬m kiáº¿m, lá»c, chi tiáº¿t vÃ¹ng, timeline, QR code

TraceabilityPage.vue
â”œâ”€ Purpose: Trang truy xuáº¥t nguá»“n gá»‘c (traceability/QR)
â”œâ”€ Components: QRModal
â”œâ”€ Composable: useTraceability
â””â”€ Features: QR code modal Ä‘á»ƒ chia sáº»

DiaryPage.vue
â”œâ”€ Purpose: Nháº­t kÃ½ canh tÃ¡c (farm diary)
â”œâ”€ Components: DiaryHeader, DiaryActivityCard, DiaryNavigation
â”œâ”€ Composable: useDiary
â””â”€ Features: Ghi chÃ©p hoáº¡t Ä‘á»™ng, FAB button, bottom navigation

AboutView.vue
â””â”€ Purpose: Trang thÃ´ng tin á»©ng dá»¥ng


// ============================================================================
// ğŸ›ï¸ COMPOSABLES (Logic tÃ¡i sá»­ dá»¥ng)
// ============================================================================

useMapLogic.js
â”œâ”€ DÃ¹ng bá»Ÿi: QuanLyView, MapComponent
â”œâ”€ Exports:
â”‚  â”œâ”€ map, mapContainer, layerGroup (refs/shallowRef)
â”‚  â”œâ”€ cheDoXem (ref - view mode)
â”‚  â”œâ”€ initMap() - Khá»Ÿi táº¡o Leaflet
â”‚  â”œâ”€ váº½MarkerVÃ¹ng(danhSachVung) - Váº½ polygon vÃ¹ng
â”‚  â”œâ”€ batCheDoSauBenh(diemNongSauBenh) - Hiá»‡n layer sÃ¢u bá»‡nh
â”‚  â””â”€ batCheDoHanhChinh() - Hiá»‡n layer hÃ nh chÃ­nh
â””â”€ Leaflet config: ArcGIS tiles + zoom controls

useHome.js
â”œâ”€ DÃ¹ng bá»Ÿi: HomeView
â”œâ”€ Exports:
â”‚  â”œâ”€ danhSachGoc, boLocHienTai, vungDangXem, searchQuery, showQR, qrLink (refs)
â”‚  â”œâ”€ map, mapContainer, layerGroup (refs/shallowRef)
â”‚  â”œâ”€ danhSachHienThi (computed) - Lá»c theo tráº¡ng thÃ¡i
â”‚  â”œâ”€ danhSachTimKiem (computed) - Lá»c theo keyword + tráº¡ng thÃ¡i
â”‚  â”œâ”€ getClassTrangThai(tt) - CSS class tá»« tráº¡ng thÃ¡i
â”‚  â”œâ”€ getMapColor(tt) - MÃ u polygon tá»« tráº¡ng thÃ¡i
â”‚  â”œâ”€ getTextTrangThai(tt) - Text tráº¡ng thÃ¡i
â”‚  â”œâ”€ chonVung(vung) - Chá»n vÃ¹ng, zoom map
â”‚  â”œâ”€ quayLaiDanhSach() - Quay láº¡i danh sÃ¡ch
â”‚  â”œâ”€ veLaiBanDo() - Váº½ láº¡i polygon map
â”‚  â”œâ”€ openQRModal(maSanPham) - Má»Ÿ QR modal
â”‚  â”œâ”€ closeQRModal() - ÄÃ³ng QR modal
â”‚  â””â”€ initMap() - Khá»Ÿi táº¡o map

useTraceability.js
â”œâ”€ DÃ¹ng bá»Ÿi: TraceabilityPage
â”œâ”€ Exports:
â”‚  â”œâ”€ showQR, qrValue (refs)
â”‚  â”œâ”€ openQR() - Má»Ÿ QR modal
â”‚  â””â”€ closeQR() - ÄÃ³ng QR modal
â””â”€ QR value tá»« URL hiá»‡n táº¡i

useDiary.js
â”œâ”€ DÃ¹ng bá»Ÿi: DiaryPage
â”œâ”€ Exports:
â”‚  â”œâ”€ diaryList (ref) - Danh sÃ¡ch nháº­t kÃ½
â”‚  â”œâ”€ getCurrentDate() - Láº¥y ngÃ y hiá»‡n táº¡i
â”‚  â”œâ”€ getActivityIcon(type) - Emoji icon tá»« loáº¡i hoáº¡t Ä‘á»™ng
â”‚  â”œâ”€ getActivityLabel(type) - Label tá»« loáº¡i hoáº¡t Ä‘á»™ng
â”‚  â”œâ”€ addDiaryEntry(entry) - ThÃªm entry má»›i
â”‚  â””â”€ removeDiaryEntry(id) - XÃ³a entry
â””â”€ Activity types: ğŸšœğŸŒ±ğŸŒ¾ğŸ’ŠğŸ’§ğŸ’°

statusHelpers.js
â”œâ”€ DÃ¹ng bá»Ÿi: QuanLyView, statusHelpers
â”œâ”€ Exports:
â”‚  â”œâ”€ getStatusBadge(status) - HTML badge
â”‚  â”œâ”€ mockDataThongKe - Mock stats data
â”‚  â”œâ”€ mockDataVung - Mock vÃ¹ng trá»“ng (3 vÃ¹ng)
â”‚  â””â”€ mockDiemNongSauBenh - Mock Ä‘iá»ƒm sÃ¢u bá»‡nh
â””â”€ Status values: 'active', 'warning', 'revoked'


// ============================================================================
// ğŸ§© COMPONENTS (Reusable UI)
// ============================================================================

// â”€â”€â”€â”€ QuanLyView Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

StatsBarComponent.vue
â”œâ”€ Props: thongKe (object)
â”œâ”€ Features: 3 stat cards (Tá»•ng vÃ¹ng, Diá»‡n tÃ­ch, Cáº£nh bÃ¡o)
â””â”€ Styling: Tailwind utility classes tá»« tailwind.css

MapComponent.vue
â”œâ”€ Props: danhSachVung (array), diemNongSauBenh (array)
â”œâ”€ Composable: useMapLogic
â”œâ”€ Features: Interactive Leaflet map + layer controls
â””â”€ Layer controls: HÃ nh chÃ­nh, SÃ¢u bá»‡nh, DÆ° lÆ°á»£ng thuá»‘c

DataTableComponent.vue
â”œâ”€ Props: danhSachVung (array)
â”œâ”€ Features: Sticky header, status badges, action buttons
â””â”€ Styling: table, badge components tá»« tailwind.css

// â”€â”€â”€â”€ HomeView Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

HomeListItem.vue
â”œâ”€ Props: item, getClassTrangThai(), getTextTrangThai()
â”œâ”€ Emits: select
â””â”€ Features: Thumbnail, info, status badge

HomeDetailView.vue
â”œâ”€ Props: vung (object)
â”œâ”€ Emits: back, openQR
â””â”€ Features: Cover image, info grid, timeline, action buttons

// â”€â”€â”€â”€ DiaryPage Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

DiaryHeader.vue
â”œâ”€ Props: getCurrentDate()
â””â”€ Features: Sticky header, title, avatar, current date

DiaryActivityCard.vue
â”œâ”€ Props: item, getActivityIcon()
â””â”€ Features: Date box, title, location, details, emoji

DiaryNavigation.vue
â”œâ”€ Features: Fixed bottom nav (Home, Map, Report, Account)
â””â”€ Support: Safe area padding (iPhone notch)

// â”€â”€â”€â”€ Shared Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

QRModal.vue (CONSOLIDATED - DÃ¹ng cho cáº£ Home & Traceability)
â”œâ”€ Props: show (boolean), qrValue (string)
â”œâ”€ Emits: close
â”œâ”€ Features: QR code display, X close button, link display
â””â”€ Used by: HomeView, TraceabilityPage

MapStatsWidget.vue
â”œâ”€ Features: Collapsible stats widget á»Ÿ gÃ³c trÃ¡i map
â”œâ”€ Charts: Bar chart (thuá»‘c BVTV), Pie chart (phÃ¢n bÃ³n)
â””â”€ Position: absolute bottom-left z-[9999]

StatsCharts.vue
â”œâ”€ Features: 2-column grid cá»§a 2 charts
â”œâ”€ Charts: Bar (thuá»‘c BVTV), Doughnut (phÃ¢n bÃ³n)
â””â”€ Used by: CÃ³ thá»ƒ dÃ¹ng trong dashboard thÃªm

icons/
â”œâ”€ Chá»©a SVG icon components (cÃ³ thá»ƒ expand)
â””â”€ Usage: Icon cho navigation, controls


// ============================================================================
// ğŸ¨ STYLING (Tailwind CSS + Utilities)
// ============================================================================

src/assets/styles/tailwind.css
â”œâ”€ Imported in: main.js (Global)
â”œâ”€ @layer components:
â”‚  â”œâ”€ .stat-card - Card thá»‘ng kÃª
â”‚  â”œâ”€ .icon-box-success/primary/warning - Icon boxes
â”‚  â”œâ”€ .badge-success/warning/danger - Status badges
â”‚  â”œâ”€ .panel - Panel card
â”‚  â”œâ”€ .table - Table styling
â”‚  â”œâ”€ .table-row-hover - Hover effect
â”‚  â”œâ”€ .button - Button styling
â”‚  â””â”€ .map-control & .map-control-btn - Map controls
â””â”€ @layer utilities:
   â”œâ”€ .animate-fade-in - Fade in animation
   â””â”€ .animate-scale-up - Scale up animation

tailwind.config.js
â”œâ”€ Custom colors: primary (#1b4332), success (#10b981), warning, danger
â”œâ”€ Content: "./src/**/*.{vue,js,ts,jsx,tsx}"
â””â”€ Extends: default Tailwind theme


// ============================================================================
// ğŸ“Š DATA FLOW
// ============================================================================

HomeView (Tra cá»©u):
  useHome.js (Logic)
    â”œâ”€ danhSachGoc (Mock data)
    â”œâ”€ boLocHienTai (Filter state)
    â”œâ”€ searchQuery (Search state)
    â”œâ”€ danhSachHienThi (Computed filtered list)
    â”œâ”€ danhSachTimKiem (Computed search results)
    â””â”€ Map state (map, mapContainer, layerGroup)
  â”œâ”€ HomeListItem.vue (Danh sÃ¡ch items)
  â”œâ”€ HomeDetailView.vue (Chi tiáº¿t vÃ¹ng)
  â”œâ”€ QRModal.vue (QR sharing)
  â””â”€ MapComponent-like (Leaflet map)

QuanLyView (Quáº£n lÃ½):
  useMapLogic.js + statusHelpers.js
    â”œâ”€ danhSachVung (Mock data)
    â”œâ”€ thongKe (Mock stats)
    â””â”€ Map state
  â”œâ”€ StatsBarComponent.vue
  â”œâ”€ MapComponent.vue (dÃ¹ng useMapLogic)
  â”œâ”€ DataTableComponent.vue
  â””â”€ MapStatsWidget.vue (Optional)

DiaryPage (Nháº­t kÃ½):
  useDiary.js (Logic)
    â”œâ”€ diaryList (Diary entries)
    â”œâ”€ activityTypes (Types with icons)
    â””â”€ CRUD functions
  â”œâ”€ DiaryHeader.vue
  â”œâ”€ DiaryActivityCard.vue (v-for loop)
  â”œâ”€ DiaryNavigation.vue
  â””â”€ FAB button

TraceabilityPage (Truy xuáº¥t):
  useTraceability.js (Logic)
    â”œâ”€ showQR, qrValue
    â””â”€ open/closeQR functions
  â””â”€ QRModal.vue (Shared component)


// ============================================================================
// âœ¨ FEATURES BY PAGE
// ============================================================================

QuanLyView (Management Dashboard):
  âœ“ Map tÆ°Æ¡ng tÃ¡c (Leaflet)
  âœ“ Statistics bar (3 cards)
  âœ“ Layer controls (HÃ nh chÃ­nh, SÃ¢u bá»‡nh, Thuá»‘c)
  âœ“ Data table (Danh sÃ¡ch vÃ¹ng)
  âœ“ Status badges (Active, Warning, Revoked)
  âœ“ Optional: Stats widget (collapsible chart)

HomeView (Lookup/Traceability):
  âœ“ Search by name/code
  âœ“ Filter by status
  âœ“ Interactive map (Click polygon â†’ detail)
  âœ“ Detail view (Cover, info, timeline, action)
  âœ“ QR code sharing
  âœ“ Timeline of activities

DiaryPage (Farm Diary):
  âœ“ Daily activity log
  âœ“ 6 activity types with emoji
  âœ“ Date display
  âœ“ Location info
  âœ“ Add/Remove entries
  âœ“ Bottom navigation
  âœ“ FAB button (add new)
  âœ“ iPhone safe area support

TraceabilityPage (QR Sharing):
  âœ“ QR code from current URL
  âœ“ Copy-friendly URL display
  âœ“ Share via Zalo/WhatsApp


// ============================================================================
// ğŸ§¹ CLEANUP DONE
// ============================================================================

âœ“ DELETED: BanDo.vue (CÅ©, thay tháº¿ báº±ng MapComponent.vue)
âœ“ CONSOLIDATED: HomeQRModal.vue + TraceabilityQRModal.vue â†’ QRModal.vue
âœ“ KEPT: MapStatsWidget.vue + StatsCharts.vue (KhÃ¡c nhau, cáº£ 2 dÃ¹ng Ä‘Æ°á»£c)


// ============================================================================
// ğŸ“ NOTES
// ============================================================================

1. Mock Data:
   - Táº¥t cáº£ data hiá»‡n táº¡i lÃ  mock (stateless)
   - Khi cÃ³ backend, thay ref() báº±ng API calls
   - State management cÃ³ thá»ƒ upgrade sang Pinia náº¿u phá»©c táº¡p

2. Styling:
   - 100% Tailwind utility classes
   - Global utilities trong tailwind.css (@layer)
   - KhÃ´ng dÃ¹ng scoped CSS (dÃ¹ng Tailwind classes thay)
   - Comments trong Tailwind giÃºp dá»… báº£o trÃ¬

3. Reusability:
   - QRModal.vue: DÃ¹ng cho cáº£ 2 pages
   - Composables: useMapLogic, useHome, useDiary, useTraceability
   - Helper: statusHelpers vá»›i mock data & functions

4. Performance:
   - Leaflet lazy-loaded (imported trong composables)
   - Components lazy-loaded báº±ng dynamic imports (cÃ³ thá»ƒ add)
   - Small bundle size (Tailwind PurgeCSS removes unused)

5. Browser Support:
   - Safe area padding cho iPhone notch (pb-safe)
   - Backdrop-filter (blur) cho modern browsers
   - Fallback CSS cho older browsers

*/

// âœ¨ KIáº¾N TRÃšC ÄÃƒ THá»NG NHáº¤T âœ¨
// - Má»—i trang cÃ³: Composable (logic) + Components (UI)
// - Reusable components (QRModal, badges, tables)
// - Centralized styling (Tailwind CSS)
// - Mock data cÃ³ structure rÃµ rÃ ng
// - Ready Ä‘á»ƒ upgrade sang real backend/Pinia
